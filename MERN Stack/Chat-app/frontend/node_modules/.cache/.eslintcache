[{"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/index.js":"1","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/App.jsx":"2","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/Messenger.jsx":"3","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/Main.jsx":"4","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/ResetPass.jsx":"5","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/Settings.jsx":"6","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/SearchWindow.jsx":"7","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/PopUp/Popup.js":"8","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/Login.jsx":"9","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/CreateAccount.jsx":"10","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/Forgotpassword.jsx":"11","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/utils/MapChatHistory.jsx":"12","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/UserProfile.jsx":"13","/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/UserChats.jsx":"14"},{"size":254,"mtime":1699892248142,"results":"15","hashOfConfig":"16"},{"size":1312,"mtime":1699892248109,"results":"17","hashOfConfig":"16"},{"size":9718,"mtime":1702907183908,"results":"18","hashOfConfig":"16"},{"size":2013,"mtime":1699892248109,"results":"19","hashOfConfig":"16"},{"size":6579,"mtime":1699892248109,"results":"20","hashOfConfig":"16"},{"size":3022,"mtime":1699892248109,"results":"21","hashOfConfig":"16"},{"size":1092,"mtime":1699892248109,"results":"22","hashOfConfig":"16"},{"size":573,"mtime":1699892248109,"results":"23","hashOfConfig":"16"},{"size":8438,"mtime":1699892248109,"results":"24","hashOfConfig":"16"},{"size":4088,"mtime":1699892248109,"results":"25","hashOfConfig":"16"},{"size":2616,"mtime":1699892248109,"results":"26","hashOfConfig":"16"},{"size":691,"mtime":1702989396584,"results":"27","hashOfConfig":"16"},{"size":1216,"mtime":1702989445500,"results":"28","hashOfConfig":"16"},{"size":5795,"mtime":1703064519737,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"161b49z",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72"},"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/index.js",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/App.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/Messenger.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/Main.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/ResetPass.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/Settings.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/SearchWindow.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/PopUp/Popup.js",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/Login.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/CreateAccount.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/User/Forgotpassword.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/utils/MapChatHistory.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/UserProfile.jsx",[],[],"/home/intruder/Github/Full-StackDev-Projects/MERN Stack/Chat-app/frontend/src/Components/Messenger/UserChats.jsx",["73","74","75","76","77"],[],"import * as React from \"react\";\nimport { ReactSketchCanvas } from \"react-sketch-canvas\";\n\nimport \"./UserChats.css\";\nimport send from \"./../../images/send.png\";\nimport pen from \"./../../images/pen.png\";\nimport { SessionUserDetails, setSessionUserDetails } from \"./Messenger\";\n\nfunction UserChats(props) {\n  // Logged in user details\n  let SessionUser = React.useContext(SessionUserDetails);\n  // Reciver user Details\n  const [ReciverDetails, setReciverDetails] = React.useState({});\n\n  // Get Chats from databaseId and set Chats\n  const [resultChats, setresultChats] = React.useState(<></>);\n  const GetChats = async (id) => {\n    try {\n      const res = await fetch(`http://localhost:5000/users/getchats?id=${id}`);\n      const data = await res.json();\n      console.log(data);\n      let resChats = await data.data.map(async (e) => {\n        const ObjectData = JSON.parse(e);\n        const image = await fetch(ObjectData.imgLink);\n        const imageJson = await image.text();\n        if (ObjectData.sendersId === SessionUser.id) {\n          return <ReciverChats pngData={imageJson} />;\n        } else {\n          return <SenderChats pngData={imageJson} />;\n        }\n      });\n      const finalRes = await Promise.all(resChats);\n      setresultChats(finalRes);\n    } catch (err) {\n      console.log(\"error: \" + err);\n    }\n  };\n\n  const fetchChats = async () => {\n    const data = await GetChats(props.databaseId);\n  };\n\n  React.useEffect(() => {\n    fetchChats();\n  }, [props.databaseId]);\n\n  React.useEffect(() => {\n    console.log(props);\n    setReciverDetails({\n      id: props.id,\n      username: props.username,\n    });\n  }, [props.id, props.username]);\n  // Upload SVG to Database\n\n  const SvgUpload = async (data) => {\n    try {\n      const res = await fetch(\"http://localhost:5000/users/sendChat\", {\n        method: \"POST\",\n        mode: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n        },\n        body: JSON.stringify({\n          svg: data,\n          SessionUser: SessionUser,\n          chat_history: SessionUser.chat_history,\n          ReciverDetails: ReciverDetails,\n        }),\n      });\n\n      console.log(\"Sent successfully!\");\n      // const newData = await res.json();\n      // Fetch live chat\n    } catch {\n      console.log(\"Something went wrong!\");\n    }\n  };\n\n  const styles = {\n    zIndex: 4,\n    cursor: `url(${pen}), auto`,\n  };\n\n  const sketchRef = React.useRef(null);\n\n  const ClearHandler = () => {\n    sketchRef.current.clearCanvas();\n  };\n\n  const UndoHandler = () => {\n    sketchRef.current.undo();\n  };\n\n  const RedoHandler = () => {\n    sketchRef.current.redo();\n  };\n\n  const EraserHandler = (status) => {\n    sketchRef.current.eraseMode(status);\n  };\n\n  function SVGhandler() {\n    sketchRef.current.exportImage(\"png\").then((data) => {\n      // trigger socket.io\n      // trigger database to save messeages\n      SvgUpload(data).then(() => {\n        console.log(\"Changing State\");\n        props.setUserChatProfile(\n          <UserChats\n            username={props.username}\n            socket={props.socket}\n            id={props.id}\n            lastActive={props.lastActive}\n            CurrentSession={props.CurrentSession}\n            databaseId={props.databaseId}\n            setUserChatProfile={props.setUserChatProfile}\n            setCurrentUserDetails={props.setCurrentUserDetails}\n            updated={true}\n          />\n        );\n      });\n    });\n  }\n\n  return (\n    <div className=\"userchats\">\n      <div className=\"user--profile--chats\">\n        <div className=\"user--logo\">{props.username[0].toUpperCase()}</div>\n        <div className=\"user--information padding--left\">\n          <div className=\"limitlength user--name\">{props.username}</div>\n          <div className=\"limitlength user--email\">{props.lastActive}</div>\n        </div>\n      </div>\n      <div className=\"chats--space\">{resultChats}</div>\n      <div className=\"chat--tools\">\n        <div className=\"scribble--pad--tools\">\n          <ReactSketchCanvas\n            ref={sketchRef}\n            style={styles}\n            width=\"100%\"\n            height=\"100%\"\n            strokeWidth={4}\n            strokeColor=\"black\"\n            canvasColor=\"white\"\n          />\n        </div>\n        <div className=\"tools\">\n          <div\n            className=\"tools--btn pen\"\n            onClick={(e) => {\n              EraserHandler(false);\n            }}\n          >\n            Pen\n          </div>\n          <div\n            className=\"tools--btn eraser\"\n            onClick={(e) => {\n              EraserHandler(true);\n            }}\n          >\n            Eraser\n          </div>\n          <div className=\"tools--btn clearall\" onClick={ClearHandler}>\n            Clear All\n          </div>\n          <div className=\"tools--btn redo\" onClick={RedoHandler}>\n            Redo\n          </div>\n          <div className=\"tools--btn undo\" onClick={UndoHandler}>\n            Undo\n          </div>\n        </div>\n        <div className=\"send\" onClick={SVGhandler}>\n          <img className=\"send--img\" alt=\"send\" src={send}></img>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst SenderChats = ({ pngData }) => {\n  return (\n    <>\n      <div className=\"s--chat--main\">\n        <div className=\"user--logo\">A</div>\n        <img\n          alt=\"Something went wrong!\"\n          src={pngData}\n          className=\"user--chat--content\"\n        ></img>\n      </div>\n    </>\n  );\n};\n\nconst ReciverChats = ({ pngData }) => {\n  return (\n    <>\n      <div className=\"s--chat--main reciver\">\n        <div className=\"user--logo\">A</div>\n        <img\n          alt=\"Something went wrong!\"\n          className=\"user--chat--content\"\n          src={pngData}\n        ></img>\n      </div>\n    </>\n  );\n};\nexport default UserChats;\n",{"ruleId":"78","severity":1,"message":"79","line":7,"column":30,"nodeType":"80","messageId":"81","endLine":7,"endColumn":51},{"ruleId":"78","severity":1,"message":"82","line":40,"column":11,"nodeType":"80","messageId":"81","endLine":40,"endColumn":15},{"ruleId":"83","severity":1,"message":"84","line":45,"column":6,"nodeType":"85","endLine":45,"endColumn":24,"suggestions":"86"},{"ruleId":"83","severity":1,"message":"87","line":53,"column":6,"nodeType":"85","endLine":53,"endColumn":32,"suggestions":"88"},{"ruleId":"78","severity":1,"message":"89","line":58,"column":13,"nodeType":"80","messageId":"81","endLine":58,"endColumn":16},"no-unused-vars","'setSessionUserDetails' is defined but never used.","Identifier","unusedVar","'data' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'fetchChats'. Either include it or remove the dependency array.","ArrayExpression",["90"],"React Hook React.useEffect has a missing dependency: 'props'. Either include it or remove the dependency array.",["91"],"'res' is assigned a value but never used.",{"desc":"92","fix":"93"},{"desc":"94","fix":"95"},"Update the dependencies array to be: [fetchChats, props.databaseId]",{"range":"96","text":"97"},"Update the dependencies array to be: [props, props.id, props.username]",{"range":"98","text":"99"},[1471,1489],"[fetchChats, props.databaseId]",[1632,1658],"[props, props.id, props.username]"]